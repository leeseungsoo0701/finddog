<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

    <title>watchdog</title>
    <style>
      .section {
        width: 750px;
        display: block;

        margin: 0 auto;
        border-radius: 10px;
        margin-top: 60px;
        margin-bottom: 40px;
      }

      .mapContainer {
        border: 1px solid black;
        width: 300px;
        height: 300px;
      }

      #map {
        width: 100%;
        height: 400px;
      }

      .img-box {
        width: 90%;
        height: 100px;
      }
    </style>

    <script>
      $(document).ready(function () {
        var map = new naver.maps.Map("map", {
          zoom: 15,
          center: new naver.maps.LatLng(37.3614483, 127.1114883),
          mapTypeControl: true,
        });
        // 커서를 올리면 포인터로 나타내기
        map.setCursor("pointer");
        // 단 하나의 마커 -> 이 값을 받아서 사용 lat:__,lng:__
        var curMarker;
        var menuLayer = $(
          '<div style="position:absolute;z-index:10000;background-color:#fff;border:solid 1px #333;padding:10px;display:none;"></div>'
        );

        map.getPanes().floatPane.appendChild(menuLayer[0]);

        naver.maps.Event.addListener(map, "click", function (e) {
          // if (curMarker != null) curMarker.setMap(curMarker);

          curMarker = new naver.maps.Marker({
            position: e.coord,
            map: map,
          });
          console.log(`현재 위치 ${curMarker.position}`);
          // submit(curMarker.getPosition());
        });
      });
    </script>
  </head>
  <body>
    {% extends 'layout.html' %} {% block content %}

    <div class="container">
      <section class="section is-primary">
        <h1 class="title text-center">봤어요!</h1>
        <div style="background-color: bisque; padding: 20px">
          <div class="row g-3">
            <div class="col-md-6">
              <label for="title" class="form-label">제목</label>

              <div id="title" class="card" style="width: 18rem">
                <div class="card-body">
                  <h5 class="card-title">Card title</h5>
                </div>
              </div>
            </div>
            <div class="col-md-6">
              <label for="dogName" class="form-label">강아지 이름</label>
              <div id="dogName" class="card" style="width: 18rem">
                <div class="card-body">
                  <h5 class="card-title">Card title</h5>
                </div>
              </div>
            </div>
            <div class="img-box">
              <img src="..." class="img-fluid" alt="..." />
            </div>

            <div class="col-12">
              <label for="contentArea" class="form-label">
                1. 강아지를 잃어버렸을 당시의 상황을 자세하게
                작성해주세요.</label
              >
              <div
                id="contentArea"
                class="card"
                style="width: 100%; height: 140px"
              >
                <div class="card-body">
                  <h5 class="card-title">Card title</h5>
                </div>
              </div>
            </div>

            <div class="col-12">
              <label for="contentArea2" class="form-label">
                2. 강아지를 잃어버렸을 때, 털 길이, 당시의 옷 및 외관의 특징에
                대해서 적어주세요.</label
              >

              <div
                id="contentArea2"
                class="card"
                style="width: 100%; height: 140px"
              >
                <div class="card-body">
                  <h5 class="card-title">Card title</h5>
                </div>
              </div>
            </div>

            <div class="col-12">
              <label for="callArea" class="form-label">
                3. 직접 연락을 받고자 하시는 분은 연락처 혹은 이메일을
                작성해주세요.
              </label>

              <div id="callArea" class="card" style="width: 100%">
                <div class="card-body">
                  <h5 class="card-title">Card title</h5>
                </div>
              </div>
            </div>

            <div class="mb-3">
              <label for="formFileMultiple" class="form-label"
                >강아지 사진을 올려주세요.</label
              >
              <input
                class="form-control"
                type="file"
                id="formFileMultiple"
                placeholder="강아지 사진을 올려주세요."
                multiple
              />
            </div>
            <div class="text-center display-6 bold">잃어버린곳</div>
            <div>
              <div
                id="map"
                class="d-grid gap-2 col-9 mx-auto mapContainer my-20"
              ></div>
            </div>
            <div class="d-grid gap-2 col-6 mx-auto mt-10">
              <button
                class="btn btn-primary btn-lg"
                data-bs-toggle="modal"
                data-bs-target="#findModal"
              >
                봤어요!
              </button>
              <div
                class="modal fade"
                id="findModal"
                tabindex="-1"
                aria-labelledby="exampleModalLabel"
                aria-hidden="true"
              >
                <div class="modal-dialog">
                  <div class="modal-content">
                    <div class="modal-header">
                      <h5 class="modal-title" id="exampleModalLabel">
                        어디서 보셨나요?!
                      </h5>
                      <button
                        type="button"
                        class="btn-close"
                        data-bs-dismiss="modal"
                        aria-label="Close"
                      ></button>
                    </div>
                    <div class="modal-body">
                      <div class="mb-3">
                        <label for="formFileMultiple" class="form-label"
                          >강아지 사진을 올려주세요.</label
                        >
                        <input
                          class="form-control"
                          type="file"
                          id="formFileMultiple"
                          placeholder="강아지 사진을 올려주세요."
                          multiple
                        />
                        <div class="row my-3">
                          <div class="col">
                            <label for="title" class="form-label">제목</label>
                            <input
                              type="text"
                              class="form-control"
                              id="title"
                              placeholder="제목을입력해주세요"
                            />
                          </div>
                          <div class="col">
                            <label for="dogName" class="form-label"
                              >강아지 이름</label
                            >
                            <input
                              type="text"
                              class="form-control"
                              id="dogName"
                              placeholder="‘강아지 이름 / 견종’ 방식으로 입력."
                            />
                          </div>
                        </div>
                      </div>
                      <div class="col">
                        <label for="dogFace" class="form-label"
                          >강아지 외관</label
                        >
                        <textarea
                          type="text"
                          class="form-control"
                          id="dogFace"
                          placeholder="‘강아지 외관의 특징을 설명해주세요."
                          rows="3"
                        ></textarea>
                      </div>
                      <div class="col">
                        <label for="findArea" class="form-label"
                          >발견하신 곳을 상세하게 설명해주세요.</label
                        >
                        <textarea
                          type="text"
                          class="form-control"
                          id="findArea"
                          placeholder="발견하신 곳을 상세하게 설명해주세요."
                          rows="3"
                        ></textarea>
                      </div>
                    </div>
                    <div class="modal-footer">
                      <button
                        type="button"
                        class="btn btn-secondary"
                        data-bs-dismiss="modal"
                      >
                        최소
                      </button>
                      <button type="button" class="btn btn-primary">
                        작성완료
                      </button>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <table class="table caption-top">
              <caption>
                List of users
              </caption>
              <thead>
                <tr>
                  <th scope="col">작성자(닉네임)</th>
                  <th scope="col">발견한곳</th>
                  <th scope="col">발견 날짜, 시간 출력</th>
                </tr>
              </thead>
              <tbody>
                <tr
                  onclick=""
                  data-bs-toggle="modal"
                  data-bs-target="#findDetailModal"
                >
                  <th scope="row">1</th>
                  <td>Mark</td>
                  <td>Otto</td>
                </tr>
                <tr onclick="">
                  <th scope="row">1</th>
                  <td>Mark</td>
                  <td>Otto</td>
                </tr>
                <tr onclick="">
                  <th scope="row">1</th>
                  <td>Mark</td>
                  <td>Otto</td>
                </tr>

                <div
                  class="modal fade"
                  id="findDetailModal"
                  tabindex="-1"
                  aria-labelledby="exampleModalLabel"
                  aria-hidden="true"
                >
                  <div class="modal-dialog">
                    <div class="modal-content">
                      <div class="modal-header">
                        <h5 class="modal-title" id="exampleModalLabel">
                          봤습니다
                        </h5>
                        <button
                          type="button"
                          class="btn-close"
                          data-bs-dismiss="modal"
                          aria-label="Close"
                        ></button>
                      </div>
                      <div class="modal-body">
                        <div>
                          <div class="col-12">
                            <label for="contentArea2" class="form-label">
                              1. 발견한 강아지 외관의 특징</label
                            >

                            <div
                              id="contentArea2"
                              class="card"
                              style="width: 100%; height: 140px"
                            >
                              <div class="card-body">
                                <h5 class="card-title">
                                  1. 발견한 강아지 외관의 특징
                                </h5>
                              </div>
                            </div>
                          </div>
                          <div class="col-12">
                            <label for="contentArea2" class="form-label">
                              2. 발견한 곳에 대한 상세 설명</label
                            >

                            <div
                              id="contentArea2"
                              class="card"
                              style="width: 100%; height: 140px"
                            >
                              <div class="card-body">
                                <h5 class="card-title">
                                  2. 발견한 곳에 대한 상세 설명
                                </h5>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                      <div class="modal-footer">
                        <button
                          type="button"
                          class="btn btn-secondary"
                          data-bs-dismiss="modal"
                        >
                          Close
                        </button>
                        <button type="button" class="btn btn-primary">
                          Send message
                        </button>
                      </div>
                    </div>
                  </div>
                </div>

                {% nickname, findLocation, findDate in dog_id.item() %}
                <tr>
                  <th scope="row">{{ nickname }}</th>
                  <td>{{ findLocation }}</td>
                  <td>{{ findDate }}</td>
                  <td>{{dog_id}}</td>
                </tr>
                {% endfor %}
              </tbody>
            </table>
          </div>
        </div>
      </section>
    </div>

    {% endblock %}
  </body>
</html>
